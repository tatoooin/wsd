@{
    Layout = null;
}
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="description" content="ourqu是一个定位于社交的网站，是一个通过线上活动组织线下进行活动的社交网站。ourqu网站包含建立活动房间，宣传活动内容，会员充值等板块，是我们年轻人希望的新的社交类网站，用最好的内容最齐全的功能来服务于年轻人交友是我们ourqu网站的宗旨" />
    <meta name="keywords" content="金牌会员,交友,吃饭,看电影,美女,本地,020" />
    <meta name="author" content="" />
    <title>齐去网_注册</title>
    <link rel="stylesheet" href="@Url.Content("~/images/style.css")" />
    <link href="@Url.Content("~/Scripts/LigerUI/ligerUI/skins/Aqua/css/ligerui-dialog.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Scripts/LigerUI/ligerUI/skins/Gray/css/dialog.css")" rel="stylesheet" />
    <script  type="text/javascript" src="@Url.Content("~/Scripts/jquery-1.8.3.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/LigerUI/ligerUI/js/core/base.js")"></script>
    <script  type="text/javascript" src="@Url.Content("~/Scripts/jquery-validation/jquery.validate.min.js")"></script>
    <script  type="text/javascript" src="@Url.Content("~/Scripts/jquery-validation/jquery.metadata.js")"></script>
    <script  type="text/javascript" src="@Url.Content("~/Scripts/jquery-validation/validator.js")"></script>
    <script  type="text/javascript" src="@Url.Content("~/Scripts/jquery-validation/messages_cn.js")"></script>
    <script  type="text/javascript" src="@Url.Content("~/Scripts/XJN.js")"></script>
    <script  type="text/javascript" src="@Url.Content("~/Scripts/jquery.form.js")"></script>
    <script type="text/javascript" src="@Url.Content("~/Scripts/LigerUI/ligerUI/js/plugins/ligerDialog.js")"></script>
</head>

<body>
    <div id="globalNavigation">
        <ul class="globalNavigationList">
            @helper LoginStatus()
{
    if (OurQu.Helper.WebHelper.CookieHelper.GetCookieValue("Username").Length > 0 || OurQu.Helper.WebHelper.SessionHelper.Get("Username") != null)
    {
                @Html.Raw("<li><a href='login.html'>提醒</a></li><li><a href='register.html'><span style='color:#FF0000'>" + OurQu.Helper.WebHelper.SessionHelper.Get("Username") + "</span></a></li><li><a href='" + Url.Content("~/Account/QuitLogin") + "'  onclick='return LoginQuit();'>退出登录</a></li>")
       

    }
    else
    {
                @Html.Raw("<li><a href='" + Url.Content("~/Account/") + "'>登陆</a></li><li><a  href='" + Url.Content("~/Account/Register") + "' >注册</a></li>")
               
    }
            }
            @LoginStatus()
        </ul>
    </div>
    @*<div id="navigation">
			<div class="navigationContainer">
				<div class="logo">
					<a href="index.html">
						<img src="/images/logo.jpg" alt="logo" />
					</a>
				</div>*@
    @*<div class="chooseWhere">
					<a id="chooseWhereBtn">常州<img style="position: relative;top: -2px;left:2px;" src="/images/icon-5.jpg" alt="" /></a>
					
				</div>*@
    @*<div class="navigationSearch">
					<input class="inputBox" type="text" /><input class="submitBox" type="submit" value="" />
				</div>
			</div
		</div>>*@
    <div id="content">
        <img src="/images/logintitle.jpg" alt="" />
        <p style="margin: 10px 0 0 0; font-size: 22px; font-weight: bold;">欢迎加入ourqu</p>
        <br />
        <div style="padding-top: 10px;" class="contentLoginLeft">
            <form action="post" name="RegisterForm" id="registers">

                <div class="line2">
                    <label class="nameLabel">邮箱</label>
                    <input type="text" value="" name="Username" id="Username" />

                </div>
                <div class="line2">
                    <label class="nameLabel">密码</label>
                    <input type="password" id="Pwd" name="Pwd" value="" />
                </div>
                <div class="line2">
                    <label class="nameLabel">确认密码</label>
                    <input type="password" name="Confirm_Pwd" value="" />
                </div>
                <div class="line1">
                    <label class="nameLabel">名号</label>
                    <input type="text" name="Nickname" value="" />
                </div>
                <div class="line2">
                    <label class="nameLabel">性别</label>
                    <select name="Sex" class="Sex" onchange="getCity()">
                        <option selected value="" id="kind1">选择性别</option>
                        <option value="男">男</option>
                        <option value="处男" id="kind1">处男</option>
                        <option value="女" id="kind2">女</option>
                        <option value="处女" id="kind3">处女</option>
                    </select>

                </div>
                <div class="line2">
                    <label class="nameLabel">职业</label>
                    @*<input type="text" name="Job" id="Job" value="" />*@
                    <select name="Job" class="kind0">
                        <option value="0">选择职业 </option>
                        <option value="学生">学生 </option>
                        <option value="社会人员">社会人员 </option>
                    </select>
                </div>
                <div class="line2">
                    <label class="nameLabel">QQ号码</label>
                    <input type="text" name="qq" value="" />
                </div>
                <div class="line1">
                    <label class="nameLabel">微信号</label>
                    <input type="text" name="wx" value="" />
                </div>
                <div class="line1">
                    <label class="nameLabel">手机号码</label>
                    <input type="text" name="tel" value="" />
                </div>
                <div class="line2">
                    <label class="nameLabel">常居地</label>
                    <select name="Province" id="Province" class="kind0" onchange="GetChildCity(this.value)">
                        <option value="0" id="kind1">选择省份</option>
                        @using (OurQu.BLL.CityService Service = new OurQu.BLL.CityService())
                        {
                            foreach (var item in Service.GetCities().Where(x => x.ParentID.Equals(0)))
                            {
                            <option value="@(item.ID)">@(item.CityName)</option>
                            }
                        }
                        @*   <option value="江苏" id="kind1">江苏</option>*@
                        @*      <option value="安徽" id="kind2">安徽</option>
                            <option value="浙江" id="kind3">浙江</option>*@
                    </select>
                    <select name="City" id="LoadChildCity" class="kind0">
                        <option value='0'>==请选择==</option>
                    </select>
                </div>
                <div class="line2">
                    <label class="nameLabel">验证码</label>
                    <a style="cursor: pointer">
                        @*        <img src="/images/check.jpg" alt="" />*@
                        <img onclick="this.src=this.src+'#'" id="YZMChange" title="看不清楚？"  src="@Url.Content("~/Account/GetCheckCode")"alt="" />


                    </a>
                    <a style="text-decoration: none; line-height: 30px;" href="javascript:$('#YZMChange').trigger('click')">看不清楚，换张图。</a>
                    <br />
                    <input style="width: 80px; margin: 0 0 0 110px;" name="CheckCode" id="CheckCode" type="text" />
                </div>
                <br />
                <br />
                <br />
                <br />
                <div class="line7">
                    <label class="nameLabel"></label>
                    <input type="checkbox" name="IsSubmit" />我已认真阅读并同意ourqu的《<a style="decoration: none;" href="#">同意协议</a>》
                </div>
                <div class="line6">

                    <input class="loginBtn" type="submit" id="BtnOk" value="注册" />
                    <div class="clear"></div>
                </div>
                <div class="clear"></div>
            </form>
        </div>
        <div class="contentLoginRight">
            已有ourqu账号？<br />
            <a class="loginRightBtn2" href="~/Account/">登陆</a>
        </div>
        <div class="clear"></div>
    </div>
    <div id="footer">
        <div class="footerList">
            <li><a href="#">关于我们</a></li>
            <li><a href="#">联系我们</a></li>
            <li><a href="#">投资广告</a></li>
            <li><a href="#">RSS订阅</a></li>
            <li><a href="#"></a></li>

        </div>
        <div class="clear"></div>
        <div class="footerCopyright">
            <p>&copy;2012-2013&nbsp;ourqu.com,all right reserved.</p>
        </div>
    </div>
</body>
</html>
<script type="text/javascript">
    function GetChildCity(id) {
        var root = '@(Url.Content("~/Details/"))';
        if (id != "") {
            $("#LoadChildCity").empty();
            $.ajax({
                url: root + 'GetChildCity',
                data: { ID: id },
                success: function (Data) {
                    $("#LoadChildCity").append("<option value='0'>==请选择==</option>");
                    $(Data).each(function (i, menu) {
                        $("#LoadChildCity").append("<option value='" + menu.ID + "'>" + menu.CityName + "</option>");
                    });
                }
            })
        }
    }
</script>
<script type="text/javascript">

    //$("#registers").validate();
    var a = $('#registers').validate({
        debug: true,
        rules: {
            Username: {
                required: true,
                minlength: 6,
                maxlength: 20,
                email: true
            },
            Pwd: {
                required: true,
                minlength: 6,
                maxlength: 12,
            },
            Confirm_Pwd: {
                required: true,
                minlength: 6,
                maxlength: 12,
                equalTo: "#Pwd"
            },
            Nickname: {
                required: true,
                minlength: 6,
                maxlength: 12,
            },
            Sex: {
              required:true
            },
            qq: {
                qq: true
            },
            wx: {
                maxlength: 12,
            },
            tel: {
                cellphone: true,
            },
            IsSubmit: {
                required: true
            },
            CheckCode: {
                required: true
            }
        },
        messages: {
            Sex: {
                required:"请选择性别"
            },
            Confirm_Pwd: {
                equalTo: "两次密码输入不一致！"
            },

            tel: {
                cellphone: "手机格式错误！"
            },
            IsSubmit: {
                required: "请先勾上同意协议！"
            },
            CheckCode: {
                required: "请输入验证码！"
            }
        },
        //highlight: function (element) {
        //    $(element).closest('.control-group').removeClass('success').addClass('error');
        //},
        success: function (element) {
            element
            .text('OK!').addClass('valid');
        },
        submitHandler: function (form) {
            var Root = "@(Url.Content("~/Account/"))";

            $(form).ajaxSubmit({
                type: "post",
                url: Root + "RegisterOn",
                success: function (Data) {
                    if (Data.IsError) {
                        xjn.showError(Data.Message);
                        $('#YZMChange').trigger('click');
                    }
                    else {
                        xjn.showSuccess(Data.Message + " 3秒后自动跳转！");
                        setInterval(function () {
                            window.location.href = "/Home/Index";
                        }, 3000);
                    }

                }
            });
        }

    });
    @* $("#BtnOk").click(function () {
        var Root = "@(Url.Content("~/Account/"))";
        alert(a.form())
        if (a.form()) {
            xjn.ajax({
                type: "post",
                url: Root + "RegisterOn",
                success: function (Data, Message, IsError) {
                    xjn.showSuccess(Message + " 3秒后自动跳转！");
                    setInterval(function () {
                        window.location.href = "/Home/Index";
                    }, 3000);
                }
            });
        }
    });*@




</script>
